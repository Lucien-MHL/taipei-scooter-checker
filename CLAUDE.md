# Taipei Scooter Checker ğŸ›µ

## å°ˆæ¡ˆæ¦‚è¿° Project Overview

å°åŒ—å¸‚æ©Ÿè»Šæ’æ°£æª¢é©—ç«™åœ°åœ–æŸ¥è©¢ç³»çµ±ï¼Œå¹«åŠ©æ©Ÿè»Šæ—å¿«é€Ÿæ‰¾åˆ°æœ€è¿‘çš„æª¢é©—ç«™ã€‚

### å°ˆæ¡ˆç›®æ¨™ Project Goals
1. **é¢è©¦ä½œå“å±•ç¤º** - å±•ç¤ºReact/Next.js + åœ°åœ–æ•´åˆæŠ€è¡“èƒ½åŠ›
2. **å€‹äººå¯¦ç”¨éœ€æ±‚** - è§£æ±ºäº”å¹´ä»¥ä¸Šè€æ©Ÿè»Šå¹´åº¦æª¢é©—çš„å¯¦éš›éœ€æ±‚
3. **æŠ€è¡“å­¸ç¿’** - æ•´åˆæ”¿åºœé–‹æ”¾è³‡æ–™APIã€åœ°åœ–æœå‹™ã€geocoding

## æŠ€è¡“æ¶æ§‹ Technical Architecture

### å‰ç«¯æŠ€è¡“æ£§ Frontend Stack
- **Framework**: Next.js 14 (App Router)
- **UI Library**: React 18
- **åœ°åœ–å¥—ä»¶**: React-Leaflet
- **æ¨£å¼**: TailwindCSS
- **TypeScript**: å‹åˆ¥å®‰å…¨

### è³‡æ–™ä¾†æº Data Sources
- **ä¸»è¦API**: å°åŒ—å¸‚æ”¿åºœé–‹æ”¾è³‡æ–™å¹³å°
  - URL: `https://data.taipei/api/v1/dataset/5fce41d6-f48f-4190-9ba4-c9cf0b2db426?scope=resourceAquire&limit=1000`
  - å…±247å®¶æª¢é©—ç«™è³‡æ–™
  - åŒ…å«åº—åã€åœ°å€ã€é›»è©±ã€è² è²¬äººç­‰å®Œæ•´è³‡è¨Š

### Geocodingç­–ç•¥ Geocoding Strategy
- **æœå‹™é¸æ“‡**: Nominatim (OpenStreetMap) - å…è²»ç‰ˆæœ¬
- **è™•ç†æ–¹å¼**: é å…ˆè™•ç† (Pre-processing)
- **å„²å­˜æ ¼å¼**: éœæ…‹JSONæª”æ¡ˆ (~200KB)
- **æ›´æ–°æ©Ÿåˆ¶**: GitHub Actionså®šæœŸæ›´æ–°

### è³‡æ–™æ›´æ–°æµç¨‹ Data Update Flow
1. **GitHub Actions Cron Job** - æ¯æœˆ1è™Ÿè‡ªå‹•åŸ·è¡Œ
2. **APIè³‡æ–™æ¯”è¼ƒ** - æª¢æŸ¥æ–°å¢/ç§»é™¤çš„åº—å®¶
3. **å¢é‡Geocoding** - åªå°æ–°åº—å®¶é€²è¡Œåº§æ¨™è½‰æ›
4. **è‡ªå‹•æäº¤** - æ›´æ–°å¾Œè‡ªå‹•commitåˆ°repository
5. **æ‰‹å‹•è§¸ç™¼** - æ”¯æ´workflow_dispatchæ‰‹å‹•æ›´æ–°

## åŠŸèƒ½è¦åŠƒ Feature Planning

### MVPéšæ®µ (é¢è©¦ç‰ˆæœ¬)
- âœ… åŸºç¤åœ°åœ–é¡¯ç¤º (Leaflet + OpenStreetMap)
- âœ… 247å®¶æª¢é©—ç«™æ¨™è¨˜å’Œè³‡è¨Špopup
- âœ… æŒ‰å€åŸŸæœå°‹åŠŸèƒ½
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ (æ‰‹æ©Ÿ/æ¡Œé¢)
- âœ… å¿«é€Ÿè¼‰å…¥ (éœæ…‹è³‡æ–™)

### é€²éšåŠŸèƒ½ (å¯é¸)
- ğŸš€ è·¯ç·šè¦åŠƒæ•´åˆ
- ğŸš€ æˆ‘çš„æœ€æ„›åº—å®¶
- ğŸš€ Google Mapsé€£çµ
- ğŸš€ é›»è©±æ’¥æ‰“åŠŸèƒ½
- ğŸš€ åˆ†äº«åŠŸèƒ½

## é–‹ç™¼ç’°å¢ƒè¨­å®š Development Setup

```bash
# å®‰è£ä¾è³´
npm install

# é–‹ç™¼æ¨¡å¼
npm run dev

# å»ºæ§‹å°ˆæ¡ˆ
npm run build

# é è¦½å»ºæ§‹çµæœ
npm run start
```

### ä¸»è¦ä¾è³´å¥—ä»¶
```json
{
  "dependencies": {
    "next": "14.x",
    "react": "18.x",
    "react-leaflet": "^4.x",
    "leaflet": "^1.x"
  }
}
```

## å°ˆæ¡ˆçµæ§‹ Project Structure

```
taipei-scooter-checker/
â”œâ”€â”€ app/                    # Next.js App Router
â”œâ”€â”€ components/             # Reactå…ƒä»¶
â”œâ”€â”€ data/                  # éœæ…‹è³‡æ–™ (stations.json)
â”œâ”€â”€ scripts/               # è‡ªå‹•åŒ–è…³æœ¬
â”œâ”€â”€ .github/workflows/     # GitHub Actions
â”œâ”€â”€ public/                # éœæ…‹è³‡æº
â””â”€â”€ README.md             # å°ˆæ¡ˆèªªæ˜
```

## GitHub Actionsè¨­å®š CI/CD Setup

### æ›´æ–°è³‡æ–™å·¥ä½œæµç¨‹
- **æª”æ¡ˆ**: `.github/workflows/update-stations.yml`
- **è§¸ç™¼**: æ¯æœˆ1è™Ÿ + æ‰‹å‹•è§¸ç™¼
- **åŠŸèƒ½**: APIè³‡æ–™åŒæ­¥ + Geocoding + è‡ªå‹•æäº¤

## é¢è©¦é‡é»èªªæ˜ Interview Highlights

1. **å¯¦éš›éœ€æ±‚å°å‘** - è§£æ±ºçœŸå¯¦ä¸–ç•Œå•é¡Œï¼Œä¸åªæ˜¯æŠ€è¡“å±•ç¤º
2. **æŠ€è¡“æ•´åˆèƒ½åŠ›** - APIæ•´åˆã€åœ°åœ–æœå‹™ã€è‡ªå‹•åŒ–æµç¨‹
3. **æ•ˆèƒ½è€ƒé‡** - é è™•ç† vs å³æ™‚è™•ç†çš„trade-offæ±ºç­–
4. **æˆæœ¬æ§åˆ¶** - å…¨ç¨‹ä½¿ç”¨å…è²»æœå‹™çš„æ¶æ§‹è¨­è¨ˆ
5. **å¯ç¶­è­·æ€§** - æ¸…æ™°çš„å°ˆæ¡ˆçµæ§‹å’Œè‡ªå‹•åŒ–æ›´æ–°æ©Ÿåˆ¶

## é–‹ç™¼æ³¨æ„äº‹é … Development Notes

### åœ°å€Geocodingæ³¨æ„äº‹é …
- Rate limiting: 1 request/second (Nominatim)
- å°ç£åœ°å€æ ¼å¼æ¨™æº–åŒ–è™•ç†
- éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶
- æ‰¹æ¬¡è™•ç†é¿å…APIå°é–

### åœ°åœ–å¯¦ä½œé‡é»
- å°åŒ—å¸‚ä¸­å¿ƒåº§æ¨™: `[25.0330, 121.5654]`
- é©ç•¶çš„zoom levelè¨­å®š
- æ¨™è¨˜é»clusterè™•ç† (åº—å®¶å¯†é›†å€åŸŸ)
- è¡Œå‹•è£ç½®è§¸æ§å„ªåŒ–

## ğŸ ç¬¬ä¸€å¤©å®Œæˆç‹€æ…‹ Day 1 Completion Status

### âœ… ä»Šæ—¥å®Œæˆé …ç›® Completed Today (2025-09-01)
- **å°ˆæ¡ˆå»ºç½®** - taipei-scooter-checker å®Œæ•´æ¶æ§‹å»ºç«‹
- **Next.js 15.5.2** - TypeScript + TailwindCSS + ESLint + App Router
- **åœ°åœ–æ•´åˆ** - React-Leaflet + Leaflet åŸºç¤åœ°åœ–é¡¯ç¤º
- **éŸ¿æ‡‰å¼UI** - Header/Footer/ä¹¾æ·¨çš„å°ˆæ¥­ä»‹é¢è¨­è¨ˆ
- **é–‹ç™¼ç’°å¢ƒ** - æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨é‹è¡Œæ­£å¸¸ (localhost:3000)

### ğŸ“ ç•¶å‰å°ˆæ¡ˆçµæ§‹ Current Project Structure
```
taipei-scooter-checker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ page.tsx              # ä¸»é é¢ (å·²å®ŒæˆUIè¨­è¨ˆ)
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ Map.tsx               # åœ°åœ–å‹•æ…‹è¼‰å…¥åŒ…è£å™¨
â”‚       â””â”€â”€ MapComponent.tsx      # å¯¦éš›åœ°åœ–å…ƒä»¶
â”œâ”€â”€ data/                         # ğŸ“‹ æ˜å¤©è¦å»ºç«‹ stations.json
â”œâ”€â”€ scripts/                      # ğŸ“‹ æ˜å¤©è¦å»ºç«‹ geocodingè…³æœ¬
â”œâ”€â”€ .github/workflows/            # ğŸ“‹ å¾ŒçºŒå»ºç«‹ GitHub Actions
â”œâ”€â”€ CLAUDE.md                     # å°ˆæ¡ˆæ–‡æª”
â””â”€â”€ package.json                  # ä¾è³´å·²å®‰è£å®Œæˆ
```

### ğŸ¯ æŠ€è¡“å¯¦ä½œç´°ç¯€ Technical Implementation Details
- **åœ°åœ–ä¸­å¿ƒ**: å°åŒ—å¸‚æ”¿åºœ `[25.0330, 121.5654]`
- **é è¨­ç¸®æ”¾**: zoom level 12
- **åœ–å±¤**: OpenStreetMap (å…è²»)
- **æ¨™è¨˜è™•ç†**: å·²è§£æ±º Leaflet default icon å•é¡Œ
- **SSRå•é¡Œ**: ä½¿ç”¨ dynamic import é¿é–‹ server-side rendering

## ğŸŒ… æ˜å¤©ä»»å‹™è¨ˆåŠƒ Tomorrow's Action Plan

### ğŸ¥‡ Priority 1: è³‡æ–™è¼‰å…¥æ ¸å¿ƒåŠŸèƒ½
1. **æ¸¬è©¦å°åŒ—å¸‚API** 
   - ç¢ºèª `https://data.taipei/api/v1/dataset/5fce41d6-f48f-4190-9ba4-c9cf0b2db426?scope=resourceAquire&limit=1000`
   - é©—è­‰è³‡æ–™æ ¼å¼å’Œå®Œæ•´æ€§
   - æª¢æŸ¥247å®¶åº—çš„è©³ç´°æ¬„ä½

2. **å»ºç«‹geocodingè…³æœ¬**
   - æª”æ¡ˆä½ç½®: `scripts/geocode-stations.js`
   - ä½¿ç”¨ Nominatim API (å…è²»)
   - å¯¦ä½œ 1 req/sec çš„ rate limiting
   - éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶

3. **ç”¢ç”Ÿéœæ…‹è³‡æ–™**
   - ç›®æ¨™æª”æ¡ˆ: `data/stations.json`
   - åŒ…å«ï¼šåº—åã€åœ°å€ã€é›»è©±ã€åº§æ¨™
   - é ä¼°æª”æ¡ˆå¤§å°: ~200KB

### ğŸ¥ˆ Priority 2: åœ°åœ–è³‡æ–™é¡¯ç¤º
4. **è¼‰å…¥çœŸå¯¦æ¨™è¨˜**
   - è®€å– `data/stations.json`
   - åœ¨åœ°åœ–ä¸Šé¡¯ç¤º247å€‹æ¨™è¨˜é»
   - è¨­è¨ˆå°ˆç”¨çš„æ©Ÿè»Šæª¢é©—ç«™ icon

5. **Popupè³‡è¨Šå„ªåŒ–**
   - é¡¯ç¤ºåº—åã€åœ°å€ã€é›»è©±
   - åŠ å…¥ Google Maps é€£çµæŒ‰éˆ•
   - éŸ¿æ‡‰å¼popupè¨­è¨ˆ

### ğŸ¥‰ Priority 3: åŸºç¤æœå°‹åŠŸèƒ½
6. **å€åŸŸç¯©é¸**
   - æŒ‰å°åŒ—å¸‚å„å€åˆ†é¡
   - ä¸‹æ‹‰é¸å–® UI
   - å³æ™‚åœ°åœ–æ¨™è¨˜æ›´æ–°

### ğŸ”§ æŠ€è¡“æ³¨æ„äº‹é … Technical Notes
- **Geocodingé™åˆ¶**: Nominatim 1 request/secondï¼Œ247å€‹åœ°å€ç´„éœ€4-5åˆ†é˜
- **åœ°å€æ ¼å¼**: å°åŒ—å¸‚åœ°å€éœ€è¦æ¨™æº–åŒ–è™•ç†ï¼ˆç¹ç°¡é«”ã€å…¨åŠå½¢æ•¸å­—ï¼‰
- **å¿«å–ç­–ç•¥**: æˆåŠŸgeocodedçš„è³‡æ–™è¦æ°¸ä¹…ä¿å­˜ï¼Œé¿å…é‡è¤‡è«‹æ±‚
- **éŒ¯èª¤è™•ç†**: éƒ¨åˆ†åœ°å€å¯èƒ½geocodingå¤±æ•—ï¼Œéœ€è¦æ‰‹å‹•æª¢æŸ¥å’Œä¿®æ­£

### ğŸ“‹ å¾…å»ºç«‹æª”æ¡ˆ Files to Create Tomorrow
```
scripts/
â”œâ”€â”€ geocode-stations.js          # ä¸»è¦geocodingè…³æœ¬
â”œâ”€â”€ fetch-api-data.js           # APIè³‡æ–™ç²å–æ¸¬è©¦
â””â”€â”€ utils.js                    # åœ°å€æ¨™æº–åŒ–å·¥å…·

data/
â””â”€â”€ stations.json               # æœ€çµ‚çš„å®Œæ•´ç«™é»è³‡æ–™
```

### ğŸ¯ é æœŸæ˜å¤©çµæœ Expected Tomorrow Outcome
**å®Œæˆå¾Œå°‡æ“æœ‰ï¼š**
- âœ… 247å®¶æª¢é©—ç«™å®Œæ•´é¡¯ç¤ºåœ¨åœ°åœ–ä¸Š
- âœ… é»æ“Šæ¨™è¨˜å¯æŸ¥çœ‹åº—å®¶è©³ç´°è³‡è¨Š
- âœ… åŸºç¤çš„å€åŸŸæœå°‹åŠŸèƒ½
- âœ… å®Œå…¨å¯ç”¨çš„MVPç‰ˆæœ¬

**å°ˆæ¡ˆå®Œæˆåº¦é ä¼°**: ç¬¬ä¸€å¤© 30% â†’ ç¬¬äºŒå¤© 80%

---

## ğŸ ç¬¬äºŒå¤©å®Œæˆç‹€æ…‹ Day 2 Completion Status (2025-09-02)

### âœ… ä»Šæ—¥é‡å¤§çªç ´ Major Breakthroughs Today
- **å®Œæ•´Geocodingç³»çµ±å»ºç½®** - ä¸‰å±¤fallbackæ©Ÿåˆ¶ï¼šTGOS â†’ Nominatim â†’ å€åŸŸä¸­å¿ƒ
- **247å€‹æª¢é©—ç«™è³‡æ–™è™•ç†** - å°åŒ—å¸‚æ”¿åºœAPIå®Œæ•´æ•´åˆ
- **30å€‹æ¸¬è©¦ç«™é»åœ°åœ–é¡¯ç¤º** - å…¨åŠŸèƒ½åœ°åœ–ä»‹é¢ä¸Šç·š
- **èƒŒæ™¯è™•ç†å®Œæˆ** - 100+æª¢é©—ç«™åº§æ¨™è½‰æ›æŒçºŒé€²è¡Œä¸­

### ğŸ”§ æ ¸å¿ƒæŠ€è¡“å¯¦ç¾ Core Technical Implementations
- **Multi-tier Geocoding Pipeline**: `scripts/geocode-stations.js`
  - TGOS APIæ•´åˆ (ç­‰å¾…API keyæ ¸å‡†)
  - Nominatimå‚™æ´æ©Ÿåˆ¶ 
  - 12å€åŸŸä¸­å¿ƒåº§æ¨™fallback
  - å®Œæ•´éŒ¯èª¤è™•ç†å’Œé‡è©¦æ©Ÿåˆ¶

- **Government API Integration**: `scripts/fetch-api-data.js`  
  - å°åŒ—å¸‚é–‹æ”¾è³‡æ–™å¹³å°APIæ¸¬è©¦å®Œæˆ
  - 247å®¶æª¢é©—ç«™100%è³‡æ–™å®Œæ•´æ€§é©—è­‰
  - JSONè³‡æ–™æ ¼å¼æ¨™æº–åŒ–

- **Production Map Interface**: `src/components/MapComponent.tsx`
  - 30å€‹æ¸¬è©¦ç«™é»å®Œç¾é¡¯ç¤º âœ…
  - Leafletåœ°åœ–æ•´åˆå®Œæˆ
  - è©³ç´°popupè³‡è¨Šå’ŒGoogle Mapså°èˆª
  - éŸ¿æ‡‰å¼è¨­è¨ˆå’Œè¼‰å…¥ç‹€æ…‹

### ğŸ¯ ç•¶å‰ç‹€æ³ Current Status
- **åœ°åœ–åŠŸèƒ½**: 100%é‹ä½œæ­£å¸¸ âœ…
- **è³‡æ–™è¼‰å…¥**: 30å€‹æ¸¬è©¦ç«™é»å®Œæ•´é¡¯ç¤º âœ…  
- **åº§æ¨™ç²¾åº¦**: ç›®å‰ä½¿ç”¨å€åŸŸä¸­å¿ƒï¼Œç­‰å¾…TGOS API keyå„ªåŒ–
- **èƒŒæ™¯è™•ç†**: æŒçºŒé€²è¡Œ247å€‹å®Œæ•´ç«™é»geocoding

### ğŸ“… æ˜æ—¥å„ªåŒ–è¨ˆåŠƒ Tomorrow's Optimization Plan

#### ğŸ¨ UI/UX Enhancement Priority
1. **åœ°åœ–è¦–è¦ºå„ªåŒ–**
   - è‡ªè¨‚æ©Ÿè»Šæª¢é©—ç«™å°ˆç”¨iconè¨­è¨ˆ
   - è‰²å½©ä¸»é¡Œèª¿æ•´ (è—/ç¶ è‰²ç³»)
   - æ¨™è¨˜hoveræ•ˆæœå’Œå‹•ç•«

2. **Popupä»‹é¢æ”¹å–„**  
   - æ›´ç¾è§€çš„å¡ç‰‡å¼è¨­è¨ˆ
   - é›»è©±æ’¥æ‰“åŠŸèƒ½å„ªåŒ–
   - ç‡Ÿæ¥­æ™‚é–“è³‡è¨Š (å¦‚æœAPIæœ‰æä¾›)

3. **éŸ¿æ‡‰å¼ä½ˆå±€ç²¾é€²**
   - æ‰‹æ©Ÿç‰ˆåœ°åœ–è§¸æ§å„ªåŒ–
   - å¹³æ¿ç‰ˆé¢é…ç½®èª¿æ•´
   - è¼‰å…¥å‹•ç•«æ”¹å–„

4. **æœå°‹åŠŸèƒ½å¯¦ç¾**
   - å°åŒ—12å€ä¸‹æ‹‰ç¯©é¸
   - å³æ™‚æ¨™è¨˜éæ¿¾
   - æœå°‹çµæœçµ±è¨ˆé¡¯ç¤º

#### ğŸ”® å¾ŒçºŒåŠŸèƒ½è¦åŠƒ Future Feature Planning
- **æˆ‘çš„æœ€æ„›**: localStorageæ”¶è—åŠŸèƒ½
- **è·¯ç·šè¦åŠƒ**: Google Maps APIæ•´åˆ
- **åˆ†äº«åŠŸèƒ½**: URLåƒæ•¸å®šä½ç‰¹å®šç«™é»
- **é›¢ç·šæ”¯æ´**: Service Workerå¿«å–

### ğŸ† å°ˆæ¡ˆé‡Œç¨‹ç¢‘ Project Milestones
**Day 1**: åŸºç¤æ¶æ§‹ (30%) âœ…  
**Day 2**: æ ¸å¿ƒåŠŸèƒ½å®Œæˆ (75%) âœ…  
**Day 3**: UIå„ªåŒ– + æœå°‹åŠŸèƒ½ (é ä¼°85%)  
**TGOS API**: åº§æ¨™ç²¾åº¦æå‡ (é ä¼°95%)  
**Final**: å®Œæ•´ç™¼å¸ƒç‰ˆæœ¬ (100%)

---

## ğŸŠ ç¬¬ä¸‰å¤©é‡å¤§çªç ´ Day 3 Revolutionary Breakthrough (2025-09-05)

### ğŸ† **æ­·å²æ€§æˆå°± - Nominatim Geocodingé©å‘½æ€§çªç ´**
ä»Šæ—¥å®Œæˆäº†å°ˆæ¡ˆæœ€é‡è¦çš„æŠ€è¡“çªç ´ï¼š**ç™¼ç¾ä¸¦å¯¦ç¾Nominatimé€—è™Ÿåˆ†éš”åœ°å€æ ¼å¼**ï¼Œå°‡geocodingæˆåŠŸç‡å¾12%é£›èºè‡³93.5%ï¼

### ğŸ“Š **é©šäººæ•¸æ“šå°æ¯”**

| é …ç›® | çªç ´å‰ç‹€æ³ | çªç ´å¾Œæˆæœ | æ”¹å–„å¹…åº¦ |
|------|-----------|-----------|----------|
| **NominatimæˆåŠŸç‡** | 12% (30/247) | **93.5%** (231/247) | **+681%** |
| **åº§æ¨™ç²¾ç¢ºåº¦** | å€åŸŸä¸­å¿ƒ | **é–€ç‰Œç´šåˆ¥** | è³ªçš„é£›èº |
| **è³‡æ–™ä¾†æºå“è³ª** | district_fallback | **çœŸå¯¦Nominatim API** | APIå“è³ªæå‡ |
| **åœ°åœ–å®Œæ•´åº¦** | 30å€‹æ¸¬è©¦é» | **247å€‹å®Œæ•´ç«™é»** | **+722%** |

### ğŸ”¬ **æ ¸å¿ƒæŠ€è¡“çªç ´ç™¼ç¾**

#### 1. **Nominatimåœ°å€æ ¼å¼ç ´è§£**
**é—œéµç™¼ç¾**: Nominatimå°å°ç£åœ°å€éœ€è¦ç‰¹å®šçš„é€—è™Ÿåˆ†éš”æ ¼å¼æ‰èƒ½ç²¾ç¢ºgeocoding

- âŒ **åŸå§‹æ ¼å¼**: `"è‡ºåŒ—å¸‚æ–‡å±±å€èˆˆéš†è·¯2æ®µ241è™Ÿ"` â†’ å›å‚³ç©ºé™£åˆ—
- âŒ **ç„¡é–€ç‰Œæ ¼å¼**: `"è‡ºåŒ—å¸‚æ–‡å±±å€èˆˆéš†è·¯2æ®µ"` â†’ å›å‚³å¤šå€‹æ¨¡ç³Šçµæœ  
- âœ… **é€—è™Ÿåˆ†éš”æ ¼å¼**: `"è‡ºåŒ—å¸‚, æ–‡å±±å€, èˆˆéš†è·¯2æ®µ, 241è™Ÿ"` â†’ **ç²¾ç¢ºå–®ä¸€åº§æ¨™çµæœ**

**å¯¦è­‰æ¸¬è©¦çµæœ**:
```javascript
// æ¸¬è©¦æ¡ˆä¾‹: æ–‡å±±å€èˆˆéš†è·¯2æ®µ241è™Ÿ
åŸå§‹æŸ¥è©¢ â†’ ç©ºé™£åˆ— âŒ
é€—è™Ÿåˆ†éš” â†’ 25.0019154, 121.551348 âœ… (ç²¾ç¢ºé–€ç‰Œåº§æ¨™)
```

#### 2. **é–€ç‰Œæ¨™æº–åŒ–è™•ç†è¦å‰‡**
é€šé247ç­†è³‡æ–™åˆ†æï¼Œå»ºç«‹å®Œæ•´çš„é–€ç‰Œè™•ç†é‚è¼¯ï¼š

- **æ¨“å±¤è³‡è¨Šç§»é™¤**: `"204è™Ÿ1æ¨“"` â†’ `"204è™Ÿ"` (30ç­†è³‡æ–™é©—è­‰)
- **ä¸¦åˆ—é–€ç‰Œç°¡åŒ–**: `"36ã€38è™Ÿ"` â†’ `"38è™Ÿ"` (å–è¼ƒå¤§è™Ÿç¢¼)  
- **å­é–€ç‰Œä¿ç•™**: `"128ä¹‹1è™Ÿ"`, `"28-1è™Ÿ"` ç¶­æŒä¸è®Š (Nominatimå¯æ­£ç¢ºè™•ç†)
- **è¤‡é›œä¸¦åˆ—è™•ç†**: `"12ã€14ã€16è™Ÿ"` â†’ `"16è™Ÿ"`

#### 3. **åœ°å€çµ„ä»¶åˆ†é›¢ç®—æ³•**
```javascript
// è¼¸å…¥: "è‡ºåŒ—å¸‚æ–‡å±±å€å¿ é †è¡—1æ®µ36ã€38è™Ÿ1æ¨“"  
// è¼¸å‡ºçµ„ä»¶:
{
  city: "è‡ºåŒ—å¸‚",           // å›ºå®šå€¼
  district: "æ–‡å±±å€",       // APIæä¾›æˆ–regexæå–
  street: "å¿ é †è¡—1æ®µ",      // è·¯/è¡—/å··/å¼„å®Œæ•´ç¯„åœ
  houseNumber: "38è™Ÿ"       // æ¨™æº–åŒ–å¾Œé–€ç‰Œ
}
// æœ€çµ‚æ ¼å¼: "è‡ºåŒ—å¸‚, æ–‡å±±å€, å¿ é †è¡—1æ®µ, 38è™Ÿ"
```

### ğŸ› ï¸ **æŠ€è¡“å¯¦ç¾æ¶æ§‹**

#### æ–°å¢æ ¸å¿ƒå‡½æ•¸ (`scripts/utils.js`)
- `standardizeHouseNumber()` - é–€ç‰Œæ¨™æº–åŒ–è™•ç†
- `parseAddressComponents()` - åœ°å€çµ„ä»¶åˆ†é›¢å™¨  
- `normalizeAddress(address, forNominatim=true)` - é€—è™Ÿåˆ†éš”æ ¼å¼ç”Ÿæˆ

#### å‡ç´šGeocodingç³»çµ± (`scripts/geocode-stations.js`)
- æ•´åˆæ–°çš„åœ°å€è™•ç†é‚è¼¯
- ä¿æŒä¸‰å±¤å‚™æ´ï¼šTGOS â†’ **Nominatim** â†’ å€åŸŸä¸­å¿ƒ
- Rate limiting: 1ç§’é–“éš”è™•ç†247å€‹åœ°å€

#### å‰ç«¯åœ°åœ–æ›´æ–° (`src/components/MapComponent.tsx`)
- å¾30å€‹æ¸¬è©¦ç«™é» â†’ 247å€‹å®Œæ•´ç«™é»
- è¼‰å…¥è·¯å¾‘æ›´æ–°ï¼š`/data/test-stations.json` â†’ `/data/stations.json`

### ğŸ”„ **å®Œæ•´è™•ç†æµç¨‹å±•ç¤º**

```
1. APIåŸå§‹åœ°å€: "è‡ºåŒ—å¸‚æ–‡å±±å€å¿ é †è¡—1æ®µ36ã€38è™Ÿ1æ¨“"
2. é–€ç‰Œæ¨™æº–åŒ–: "è‡ºåŒ—å¸‚æ–‡å±±å€å¿ é †è¡—1æ®µ36ã€38è™Ÿ" (ç§»é™¤1æ¨“)  
3. çµ„ä»¶åˆ†é›¢: 
   - city: "è‡ºåŒ—å¸‚"
   - district: "æ–‡å±±å€"  
   - street: "å¿ é †è¡—1æ®µ"
   - houseNumber: "38è™Ÿ" (ç°¡åŒ–ä¸¦åˆ—é–€ç‰Œ)
4. é€—è™Ÿæ ¼å¼: "è‡ºåŒ—å¸‚, æ–‡å±±å€, å¿ é †è¡—1æ®µ, 38è™Ÿ"
5. NominatimæŸ¥è©¢: 24.9840183, 121.5597548 âœ…
6. ç²¾ç¢ºåº§æ¨™ç²å¾—ï¼
```

### ğŸ“ **æª”æ¡ˆæ¶æ§‹æ›´æ–°**
```
taipei-scooter-checker/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ stations.json           # 247å€‹ç²¾ç¢ºgeocodingçµæœ âœ…
â”‚   â””â”€â”€ geocoding-cache.json    # 231å€‹æˆåŠŸå¿«å–è¨˜éŒ„ âœ…
â”œâ”€â”€ public/data/  
â”‚   â””â”€â”€ stations.json          # å‰ç«¯å®Œæ•´è³‡æ–™ âœ…
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ utils.js               # æ–°å¢åœ°å€è™•ç†æ ¸å¿ƒå‡½æ•¸ âœ…
â”‚   â”œâ”€â”€ geocode-stations.js    # æ•´åˆé€—è™Ÿåˆ†éš”é‚è¼¯ âœ…
â”‚   â”œâ”€â”€ test-new-geocoding.js  # åœ°å€è™•ç†æ¸¬è©¦è…³æœ¬ âœ…
â”‚   â””â”€â”€ test-specific-addresses.js # å¯¦éš›geocodingé©—è­‰ âœ…
â””â”€â”€ src/components/
    â””â”€â”€ MapComponent.tsx       # 247ç«™é»å®Œæ•´é¡¯ç¤º âœ…
```

### ğŸ¯ **è™•ç†æˆæœçµ±è¨ˆ**
- âœ… **ç¸½æª¢é©—ç«™**: 247å®¶ (100%è™•ç†æˆåŠŸ)
- âœ… **Nominatimç²¾ç¢ºåº§æ¨™**: 231å®¶ (93.5% - é–€ç‰Œç´šåˆ¥)  
- âœ… **å€åŸŸå‚™æ´åº§æ¨™**: 16å®¶ (6.5% - å€åŸŸä¸­å¿ƒ)
- âœ… **è™•ç†å¤±æ•—**: 0å®¶ (0% - å®Œç¾æˆåŠŸç‡)
- â±ï¸ **ç¸½è™•ç†æ™‚é–“**: ~7åˆ†é˜ (247å€‹åœ°å€ Ã— 1ç§’é–“éš”)

### ğŸš€ **æ˜æ—¥ç¾åŒ–ä»»å‹™ Day 4 UI/UX Enhancement Plan**

#### Priority 1: è¦–è¦ºè¨­è¨ˆå‡ç´š 
- ğŸ¨ è‡ªè¨‚æ©Ÿè»Šæª¢é©—ç«™å°ˆç”¨iconè¨­è¨ˆ
- ğŸŒˆ è‰²å½©ä¸»é¡Œèª¿æ•´ (è—/ç¶ è‰²ç³»å°ˆæ¥­é¢¨æ ¼)
- âœ¨ æ¨™è¨˜hoveræ•ˆæœå’Œæµæš¢å‹•ç•«
- ğŸ“± éŸ¿æ‡‰å¼ä½ˆå±€ç²¾é€² (æ‰‹æ©Ÿ/å¹³æ¿å„ªåŒ–)

#### Priority 2: åŠŸèƒ½é«”é©—æ”¹å–„
- ğŸ’³ æ›´ç¾è§€çš„popupå¡ç‰‡å¼è¨­è¨ˆ  
- ğŸ“ é›»è©±æ’¥æ‰“åŠŸèƒ½å„ªåŒ–
- ğŸ” å°åŒ—12å€ä¸‹æ‹‰ç¯©é¸åŠŸèƒ½
- ğŸ“Š æœå°‹çµæœçµ±è¨ˆé¡¯ç¤º
- âš¡ è¼‰å…¥å‹•ç•«å’Œç‹€æ…‹æ”¹å–„

#### Priority 3: é€²éšåŠŸèƒ½ (å¯é¸)
- â¤ï¸ æˆ‘çš„æœ€æ„›æ”¶è—åŠŸèƒ½
- ğŸ—ºï¸ Google Mapsæ•´åˆå„ªåŒ–  
- ğŸ“¤ åˆ†äº«åŠŸèƒ½ (URLåƒæ•¸å®šä½)
- ğŸ”„ é›¢ç·šæ”¯æ´ (Service Worker)

### ğŸ **å°ˆæ¡ˆå®Œæˆåº¦é‡Œç¨‹ç¢‘**
- **Day 1**: åŸºç¤æ¶æ§‹å»ºç½® (30%) âœ…
- **Day 2**: æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾ (75%) âœ…  
- **Day 3**: **Geocodingé©å‘½æ€§çªç ´ (85%)** âœ…
- **Day 4**: UI/UXç¾åŒ–å®Œæˆ (é ä¼°95%)
- **Final**: TGOS APIæ•´åˆ (é ä¼°100%)

### ğŸ’¡ **æŠ€è¡“æˆå°±ç¸½çµ**
é€™æ¬¡çš„çªç ´ä¸åƒ…åƒ…æ˜¯æ•¸æ“šçš„æ”¹å–„ï¼Œæ›´æ˜¯å°Nominatim APIåœ¨å°ç£åœ°å€è™•ç†ä¸Šçš„æ·±åº¦ç ”ç©¶æˆæœã€‚é€šéç³»çµ±åŒ–çš„å¯¦è­‰æ–¹æ³•ï¼š

1. **å‡è¨­æå‡º** - Nominatimé–€ç‰Œè™Ÿè¾¨è­˜å•é¡Œ
2. **å¯¦è­‰é©—è­‰** - é€—è™Ÿåˆ†éš”æ ¼å¼ç™¼ç¾  
3. **ç³»çµ±å¯¦ç¾** - å®Œæ•´åœ°å€è™•ç†pipeline
4. **æ•ˆæœé©—è­‰** - 93.5%æˆåŠŸç‡è­‰æ˜

é€™å€‹ç™¼ç¾å…·æœ‰å»£æ³›çš„æ‡‰ç”¨åƒ¹å€¼ï¼Œå¯ä»¥å¹«åŠ©å…¶ä»–éœ€è¦å°ç£åœ°å€geocodingçš„å°ˆæ¡ˆã€‚

---

## ğŸš€ **ç¬¬å››å¤©ç­–ç•¥çªç ´ Day 4 Deployment Strategy Breakthrough (2025-09-08)**

### ğŸ—ï¸ **GitHub Pages é¸æ“‡æ€§éƒ¨ç½²ç­–ç•¥ (Selective Deployment Strategy)**

ä»Šæ—¥æ·±å…¥ç ”ç©¶äº†è³‡æ–™æ›´æ–°èˆ‡éƒ¨ç½²çš„æœ€ä½³å¯¦è¸ï¼Œç¢ºç«‹äº†**é›¶é‡å»ºè³‡æ–™æ›´æ–°æ–¹æ¡ˆ**ã€‚

#### **æ ¸å¿ƒæŠ€è¡“ç™¼ç¾ Core Technical Discovery**
**GitHub Repository â‰  GitHub Pagesç’°å¢ƒåˆ†é›¢ç†è§£**ï¼š
```
GitHub Repository (source code)
â”œâ”€â”€ public/data/stations.json  â† GitHub Actions cron jobæ›´æ–°æ­¤è™•
â””â”€â”€ src/components/...

GitHub Pages (deployed site) 
â”œâ”€â”€ data/stations.json         â† éœ€è¦é¸æ“‡æ€§æ›´æ–°æ­¤è™•
â””â”€â”€ _next/static/...           â† buildç”¢ç”Ÿçš„éœæ…‹æª”æ¡ˆ
```

#### **fetch() vs import è¼‰å…¥æ–¹å¼åˆ†æ**

| è¼‰å…¥æ–¹å¼ | Runtimeå‹•æ…‹æ€§ | æ›´æ–°éˆæ´»æ€§ | æ•ˆèƒ½è¡¨ç¾ | Metadataæ”¯æ´ |
|---------|-------------|----------|----------|-------------|
| **fetch('/data/stations.json')** | âœ… Runtimeè¼‰å…¥ | âœ… æª”æ¡ˆæ›´æ–°å³ç”Ÿæ•ˆ | âŒ HTTPè«‹æ±‚é–‹éŠ· | âœ… æ”¯æ´last-modified |
| **import stationsData** | âŒ Compile-timeéœæ…‹ | âŒ éœ€è¦é‡æ–°build | âœ… é›¶è«‹æ±‚é–‹éŠ· | âŒ ç„¡metadata |

**çµè«–**: å°æ–¼æœˆæ›´è³‡æ–™çš„å°ˆæ¡ˆï¼Œ`fetch()`æ–¹å¼å…·æœ‰æ˜é¡¯å„ªå‹¢ã€‚

#### **é¸æ“‡æ€§éƒ¨ç½²æŠ€è¡“æ–¹æ¡ˆ**

##### **æ–¹æ¡ˆè¨­è¨ˆé‚è¼¯**
1. **è³‡æ–™æ›´æ–°è§¸ç™¼** - GitHub Actions cron jobæ¯æœˆ1è™ŸåŸ·è¡Œ
2. **Repositoryæ›´æ–°** - æ–°çš„geocodingçµæœå¯«å…¥`public/data/stations.json`
3. **é¸æ“‡æ€§éƒ¨ç½²** - åƒ…å°‡JSONæª”æ¡ˆæ¨é€è‡³`gh-pages` branch
4. **å³æ™‚ç”Ÿæ•ˆ** - ä½¿ç”¨è€…ä¸‹æ¬¡visitå³å¯é€é`fetch()`ç²å¾—æœ€æ–°è³‡æ–™

##### **GitHub Actions Workflowæ¶æ§‹**
```yaml
# .github/workflows/update-stations-only.yml
name: Update Stations Data Only (No Rebuild)
on:
  schedule:
    - cron: '0 2 1 * *'  # æ¯æœˆ1è™Ÿå‡Œæ™¨2é»

jobs:
  selective-deployment:
    runs-on: ubuntu-latest
    steps:
      - name: Geocoding & Data Processing
        run: node scripts/geocode-stations.js
      
      - name: Deploy Only JSON to GitHub Pages
        run: |
          git checkout gh-pages
          cp public/data/stations.json data/stations.json
          git commit -m "ğŸ”„ Monthly stations data update"
          git push
```

#### **æŠ€è¡“å„ªå‹¢ç¸½çµ**
- âœ… **æ¥µé€Ÿæ›´æ–°**: åƒ…æ›´æ–°å–®ä¸€JSONæª”æ¡ˆ (~200KB)
- âœ… **é›¶é‡å»ºæˆæœ¬**: ç„¡éœ€é‡æ–°buildæ•´å€‹Next.jså°ˆæ¡ˆ
- âœ… **é›¶åœæ©Ÿæ™‚é–“**: ç¶²ç«™æŒçºŒé‹è¡Œï¼Œè³‡æ–™seamlessæ›´æ–°
- âœ… **è³‡æºç¯€ç´„**: ç¯€çœGitHub Actions build timeé…é¡
- âœ… **å³æ™‚åæ˜ **: `fetch()`æ–¹å¼ç¢ºä¿ä½¿ç”¨è€…ç«‹å³ç²å¾—æœ€æ–°è³‡æ–™

#### **å°Footeré¡¯ç¤ºæ›´æ–°æ—¥æœŸçš„å½±éŸ¿**
é…åˆæ­¤ç­–ç•¥ï¼Œå»ºè­°åœ¨`stations.json`ä¸­åŠ å…¥metadataï¼š
```json
{
  "metadata": {
    "lastUpdated": "2025-09-08T02:00:00Z",
    "totalStations": 247,
    "geocodingSuccess": "93.5%",
    "dataSource": "å°åŒ—å¸‚æ”¿åºœé–‹æ”¾è³‡æ–™å¹³å°"
  },
  "stations": [...]
}
```

#### **å¯¦æ–½æ™‚ç¨‹è¦åŠƒ**
- **Phase 1**: UIç¾åŒ–å®Œæˆ (æœ¬é€±)
- **Phase 2**: å¯¦ä½œé¸æ“‡æ€§éƒ¨ç½²workflow (ä¸‹é€±)  
- **Phase 3**: Footer metadataé¡¯ç¤ºåŠŸèƒ½
- **Phase 4**: å®Œæ•´è‡ªå‹•åŒ–æ¸¬è©¦

### ğŸ¯ **å°ˆæ¡ˆå®Œæˆåº¦æ›´æ–°**
- **Day 1**: åŸºç¤æ¶æ§‹å»ºç½® (30%) âœ…
- **Day 2**: æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾ (75%) âœ…  
- **Day 3**: Geocodingé©å‘½æ€§çªç ´ (85%) âœ…
- **Day 4**: éƒ¨ç½²ç­–ç•¥ç¢ºç«‹ (87%) âœ…
- **Target**: UIç¾åŒ– + è‡ªå‹•åŒ–éƒ¨ç½²å®Œæˆ (95%)

---

**å°ˆæ¡ˆé–‹å§‹æ—¥æœŸ**: 2025-09-01  
**ç›®å‰å®Œæˆåº¦**: **87%** (éƒ¨ç½²ç­–ç•¥ç¢ºç«‹)  
**é è¨ˆç™¼å¸ƒæ™‚é–“**: 1-2é€±å…§ (UIç¾åŒ– + è‡ªå‹•åŒ–éƒ¨ç½²)  
**æœ€å¾Œæ›´æ–°**: 2025-09-08 23:15